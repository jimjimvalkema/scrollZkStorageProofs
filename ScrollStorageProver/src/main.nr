use dep::std;
use dep::std::hash::poseidon::bn254::perm;
use dep::std::hash::poseidon;
use dep::std::hash::poseidon2;
//use dep::std::hash::poseidon::{PoseidonConfig, absorb, permute};
//use dep::std::hash::poseidon::bn254::consts;
//use dep::std::field::modulus_num_bits;
//use dep::std::hash;
// Regular merkle tree means a append-only merkle tree (Explain why this is the only way to have privacy and alternatives if you don't want it)
// Currently we assume that it is a binary tree, so depth k implies a width of 2^k
// XXX: In the future we can add an arity parameter
// Returns the merkle root of the tree from the provided leaf, its hashpath, using a pedersen hash function.

pub fn hash_2WithDomain(input: [Field; 2], domain: Field ) -> Field {
    let mut state = [0; 3];
    state[0] = domain;
    for i in 0..input.len() {
        state[i+1] = input[i];
    }

    perm::x5_3(state)[0]
}
#[test]
fn test_main() {
    let codePadded = 0x6080604052600436106101025760003560e01c806370a0823111610095578063a457c2d711610064578063a457c2d7146102b4578063a9059cbb146102d4578063d0e30db0146102f4578063d505accf146102fc578063dd62ed3e1461031c57600080fd5b806370a08231146102215780637ecebe001461025757806384b0196e1461027757806395d89b411461029f57600080fd5b80632e1a7d4d116100d15780632e1a7d4d146101b0578063313ce567146101d05780633644e515146101ec578063395093511461020157600080fd5b806306fdde0314610116578063095ea7b31461014157806318160ddd1461017157806323b872dd1461019057600080fd5b366101115761010f61033c565b005b600080fd5b34801561012257600080fd5b5061012b61038d565b60405161013891906112fa565b60405180910390f35b34801561014d57600080fd5b5061016161015c366004611330565b61041f565b6040519015158152602001610138565b34801561017d57600080fd5b506002545b604051908152602001610138565b34801561019c57600080fd5b506101616101ab36600461135a565b610439565b3480156101bc57600080fd5b5061010f6101cb366004611396565b61045d565b3480156101dc57600080fd5b5060405160128152602001610138565b3480156101f857600080fd5b5061018261054e565b34801561020d57600080fd5b5061016161021c366004611330565b61055d565b34801561022d57600080fd5b5061018261023c3660046113af565b6001600160a01b031660009081526020819052604090205490565b34801561026357600080fd5b506101826102723660046113af565b61057f565b34801561028357600080fd5b5061028c61059d565b60405161013897969594939291906113ca565b3480156102ab57600080fd5b5061012b610626565b3480156102c057600080fd5b506101616102cf366004611330565b610635565b3480156102e057600080fd5b506101616102ef366004611330565b6106b0565b61010f61033c565b34801561030857600080fd5b5061010f610317366004611460565b6106be565b34801561032857600080fd5b506101826103373660046114d3565b610822565b336103478134610881565b806001600160a01b03167fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c3460405161038291815260200190565b60405180910390a250565b60606003805461039c90611506565b80601f01602080910402602001604051908101604052809291908181526020018280546103c890611506565b80156104155780601f106103ea57610100808354040283529160200191610415565b820191906000526020600020905b8154815290600101906020018083116103f857829003601f168201915b5050505050905090565b60003361042d818585610940565b60019150505b92915050565b600033610447858285610a65565b610452858585610adf565b506001949350505050565b336104688183610c83565b6000816001600160a01b03168360405160006040518083038185875af1925050503d80600081146104b5576040519150601f19603f3d011682016040523d82523d6000602084013e6104ba565b606091505b50509050806105065760405162461bcd60e51b81526020600482015260136024820152721dda5d1a191c985dc81155120819985a5b1959606a1b60448201526064015b60405180910390fd5b816001600160a01b03167f7fcf532c15f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b658460405161054191815260200190565b60405180910390a2505050565b6000610558610db2565b905090565b60003361042d8185856105708383610822565b61057a919061153a565b610940565b6001600160a01b038116600090815260076020526040812054610433565b6000606080828080836105d17f577261707065642045746865720000000000000000000000000000000000000d6005610edd565b6105fc7f31000000000000000000000000000000000000000000000000000000000000016006610edd565b60408051600080825260208201909252600f60f81b9b939a50919850469750309650945092509050565b60606004805461039c90611506565b600033816106438286610822565b9050838110156106a35760405162461bcd60e51b815260206004820152602560248201527f45524332303a2064656372656173656420616c6c6f77616e63652062656c6f77604482015264207a65726f60d81b60648201526084016104fd565b6104528286868403610940565b60003361042d818585610adf565b8342111561070e5760405162461bcd60e51b815260206004820152601d60248201527f45524332305065726d69743a206578706972656420646561646c696e6500000060448201526064016104fd565b60007f6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c988888861073d8c610f81565b6040805160208101969096526001600160a01b0394851690860152929091166060840152608083015260a082015260c0810186905260e001604051602081830303815290604052805190602001209050600061079882610fa9565b905060006107a882878787610fd6565b9050896001600160a01b0316816001600160a01b03161461080b5760405162461bcd60e51b815260206004820152601e60248201527f45524332305065726d69743a20696e76616c6964207369676e6174757265000060448201526064016104fd565b6108168a8a8a610940565b50505050505050505050565b6001600160a01b03918216600090815260016020908152604080832093909416825291909152205490565b60006020835110156108695761086283610ffe565b9050610433565b8161087484826115bf565b5060ff9050610433565b90565b6001600160a01b0382166108d75760405162461bcd60e51b815260206004820152601f60248201527f45524332303a206d696e7420746f20746865207a65726f20616464726573730060448201526064016104fd565b80600260008282546108e9919061153a565b90915550506001600160a01b038216600081815260208181526040808320805486019055518481527fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef910160405180910390a35050565b6001600160a01b0383166109a25760405162461bcd60e51b8152602060048201526024808201527f45524332303a20617070726f76652066726f6d20746865207a65726f206164646044820152637265737360e01b60648201526084016104fd565b6001600160a01b038216610a035760405162461bcd60e51b815260206004820152602260248201527f45524332303a20617070726f766520746f20746865207a65726f206164647265604482015261737360f01b60648201526084016104fd565b6001600160a01b0383811660008181526001602090815260408083209487168084529482529182902085905590518481527f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92591015b60405180910390a3505050565b6000610a718484610822565b90506000198114610ad95781811015610acc5760405162461bcd60e51b815260206004820152601d60248201527f45524332303a20696e73756666696369656e7420616c6c6f77616e636500000060448201526064016104fd565b610ad98484848403610940565b50505050565b6001600160a01b038316610b435760405162461bcd60e51b815260206004820152602560248201527f45524332303a207472616e736665722066726f6d20746865207a65726f206164604482015264647265737360d81b60648201526084016104fd565b6001600160a01b038216610ba55760405162461bcd60e51b815260206004820152602360248201527f45524332303a207472616e7366657220746f20746865207a65726f206164647260448201526265737360e81b60648201526084016104fd565b6001600160a01b03831660009081526020819052604090205481811015610c1d5760405162461bcd60e51b815260206004820152602660248201527f45524332303a207472616e7366657220616d6f756e7420657863656564732062604482015265616c616e636560d01b60648201526084016104fd565b6001600160a01b03848116600081815260208181526040808320878703905593871680835291849020805487019055925185815290927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef910160405180910390a3610ad9565b6001600160a01b038216610ce35760405162461bcd60e51b815260206004820152602160248201527f45524332303a206275726e2066726f6d20746865207a65726f206164647265736044820152607360f81b60648201526084016104fd565b6001600160a01b03821660009081526020819052604090205481811015610d575760405162461bcd60e51b815260206004820152602260248201527f45524332303a206275726e20616d6f756e7420657863656564732062616c616e604482015261636560f01b60648201526084016104fd565b6001600160a01b0383166000818152602081815260408083208686039055600280548790039055518581529192917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9101610a58565b505050565b6000306001600160a01b037f000000000000000000000000530000000000000000000000000000000000000416148015610e0b57507f000000000000000000000000000000000000000000000000000000000008275046145b15610e3557507fe5b117a3cd7ae7ed3508e6e6c5a0794536b2a8dee12533c4d7524eae9c85438f90565b610558604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201527f00cd3d46df44f2cbb950cf84eb2e92aa2ddd23195b1a009173ea59a063357ed3918101919091527fc89efdaa54c0f20c7adf612882df0950f5a951637e0307cdcb4c672f298b8bc660608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b606060ff8314610ef0576108628361103c565b818054610efc90611506565b80601f0160208091040260200160405190810160405280929190818152602001828054610f2890611506565b8015610f755780601f10610f4a57610100808354040283529160200191610f75565b820191906000526020600020905b815481529060010190602001808311610f5857829003601f168201915b50505050509050610433565b6001600160a01b03811660009081526007602052604090208054600181018255905b50919050565b6000610433610fb6610db2565b8360405161190160f01b8152600281019290925260228201526042902090565b6000806000610fe78787878761107b565b91509150610ff48161113f565b5095945050505050565b600080829050601f81511115611029578260405163305a27a960e01b81526004016104fd91906112fa565b80516110348261167f565b179392505050565b606060006110498361128c565b604080516020808252818301909252919250600091906020820181803683375050509182525060208101929092525090565b6000807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08311156110b25750600090506003611136565b6040805160008082526020820180845289905260ff881692820192909252606081018690526080810185905260019060a0016020604051602081039080840390855afa158015611106573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b03811661112f57600060019250925050611136565b9150600090505b94509492505050565b6000816004811115611153576111536116a3565b0361115b5750565b600181600481111561116f5761116f6116a3565b036111bc5760405162461bcd60e51b815260206004820152601860248201527f45434453413a20696e76616c6964207369676e6174757265000000000000000060448201526064016104fd565b60028160048111156111d0576111d06116a3565b0361121d5760405162461bcd60e51b815260206004820152601f60248201527f45434453413a20696e76616c6964207369676e6174757265206c656e6774680060448201526064016104fd565b6003816004811115611231576112316116a3565b036112895760405162461bcd60e51b815260206004820152602260248201527f45434453413a20696e76616c6964207369676e6174757265202773272076616c604482015261756560f01b60648201526084016104fd565b50565b600060ff8216601f81111561043357604051632cd44ac360e21b815260040160405180910390fd5b6000815180845260005b818110156112da576020818501810151868301820152016112be565b506000602082860101526020601f19601f83011685010191505092915050565b60208152600061130d60208301846112b4565b9392505050565b80356001600160a01b038116811461132b57600080fd5b919050565b6000806040838503121561134357600080fd5b61134c83611314565b946020939093013593505050565b60008060006060848603121561136f57600080fd5b61137884611314565b925061138660208501611314565b9150604084013590509250925092565b6000602082840312156113a857600080fd5b5035919050565b6000602082840312156113c157600080fd5b61130d82611314565b60ff60f81b881681526000602060e0818401526113ea60e084018a6112b4565b83810360408501526113fc818a6112b4565b606085018990526001600160a01b038816608086015260a0850187905284810360c0860152855180825283870192509083019060005b8181101561144e57835183529284019291840191600101611432565b50909c9b505050505050505050505050565b600080600080600080600060e0888a03121561147b57600080fd5b61148488611314565b965061149260208901611314565b95506040880135945060608801359350608088013560ff811681146114b657600080fd5b9699959850939692959460a0840135945060c09093013592915050565b600080604083850312156114e657600080fd5b6114ef83611314565b91506114fd60208401611314565b90509250929050565b600181811c9082168061151a57607f821691505b602082108103610fa357634e487b7160e01b600052602260045260246000fd5b8082018082111561043357634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052604160045260246000fd5b601f821115610dad57600081815260208120601f850160051c810160208610156115985750805b601f850160051c820191505b818110156115b7578281556001016115a4565b505050505050565b815167ffffffffffffffff8111156115d9576115d961155b565b6115ed816115e78454611506565b84611571565b602080601f831160018114611622576000841561160a5750858301515b600019600386901b1c1916600185901b1785556115b7565b600085815260208120601f198616915b8281101561165157888601518255948401946001909101908401611632565b508582101561166f5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b80516020808301519190811015610fa35760001960209190910360031b1b16919050565b634e487b7160e01b600052602160045260246000fdfea26469706673582212207f39e33e122e8e2b0381aa6abea46046f56b05ced66c556a06bb1b80be7f55cf64736f6c6343000810003300000000000000000000000000000000000000;

    //code.slice(2).match(/.{1,62}/g).map((x)=>ethers.zeroPadBytes("0x"+x, 31)).toString()
    let codeBytes = [
        0x6080604052600436106101025760003560e01c806370a08231116100955780, 0x63a457c2d711610064578063a457c2d7146102b4578063a9059cbb146102d4, 0x578063d0e30db0146102f4578063d505accf146102fc578063dd62ed3e1461, 0x031c57600080fd5b806370a08231146102215780637ecebe00146102575780, 0x6384b0196e1461027757806395d89b411461029f57600080fd5b80632e1a7d, 0x4d116100d15780632e1a7d4d146101b0578063313ce567146101d057806336, 0x44e515146101ec578063395093511461020157600080fd5b806306fdde0314, 0x610116578063095ea7b31461014157806318160ddd1461017157806323b872, 0xdd1461019057600080fd5b366101115761010f61033c565b005b600080fd5b, 0x34801561012257600080fd5b5061012b61038d565b60405161013891906112, 0xfa565b60405180910390f35b34801561014d57600080fd5b5061016161015c, 0x366004611330565b61041f565b6040519015158152602001610138565b3480, 0x1561017d57600080fd5b506002545b604051908152602001610138565b3480, 0x1561019c57600080fd5b506101616101ab36600461135a565b610439565b34, 0x80156101bc57600080fd5b5061010f6101cb366004611396565b61045d565b, 0x3480156101dc57600080fd5b5060405160128152602001610138565b348015, 0x6101f857600080fd5b5061018261054e565b34801561020d57600080fd5b50, 0x61016161021c366004611330565b61055d565b34801561022d57600080fd5b, 0x5061018261023c3660046113af565b6001600160a01b031660009081526020, 0x819052604090205490565b34801561026357600080fd5b5061018261027236, 0x60046113af565b61057f565b34801561028357600080fd5b5061028c61059d, 0x565b60405161013897969594939291906113ca565b3480156102ab57600080, 0xfd5b5061012b610626565b3480156102c057600080fd5b506101616102cf36, 0x6004611330565b610635565b3480156102e057600080fd5b506101616102ef, 0x366004611330565b6106b0565b61010f61033c565b34801561030857600080, 0xfd5b5061010f610317366004611460565b6106be565b348015610328576000, 0x80fd5b506101826103373660046114d3565b610822565b3361034781346108, 0x81565b806001600160a01b03167fe1fffcc4923d04b559f4d29a8bfc6cda04, 0xeb5b0d3c460751c2402c5c5cc9109c3460405161038291815260200190565b, 0x60405180910390a250565b60606003805461039c90611506565b80601f0160, 0x20809104026020016040519081016040528092919081815260200182805461, 0x03c890611506565b80156104155780601f106103ea57610100808354040283, 0x529160200191610415565b820191906000526020600020905b815481529060, 0x0101906020018083116103f857829003601f168201915b5050505050905090, 0x565b60003361042d818585610940565b60019150505b92915050565b600033, 0x610447858285610a65565b610452858585610adf565b506001949350505050, 0x565b336104688183610c83565b6000816001600160a01b0316836040516000, 0x6040518083038185875af1925050503d80600081146104b557604051915060, 0x1f19603f3d011682016040523d82523d6000602084013e6104ba565b606091, 0x505b50509050806105065760405162461bcd60e51b81526020600482015260, 0x136024820152721dda5d1a191c985dc81155120819985a5b1959606a1b6044, 0x8201526064015b60405180910390fd5b816001600160a01b03167f7fcf532c, 0x15f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b65846040, 0x5161054191815260200190565b60405180910390a2505050565b6000610558, 0x610db2565b905090565b60003361042d8185856105708383610822565b6105, 0x7a919061153a565b610940565b6001600160a01b0381166000908152600760, 0x20526040812054610433565b6000606080828080836105d17f577261707065, 0x642045746865720000000000000000000000000000000000000d6005610edd, 0x565b6105fc7f31000000000000000000000000000000000000000000000000, 0x000000000000016006610edd565b6040805160008082526020820190925260, 0x0f60f81b9b939a50919850469750309650945092509050565b606060048054, 0x61039c90611506565b600033816106438286610822565b9050838110156106, 0xa35760405162461bcd60e51b815260206004820152602560248201527f4552, 0x4332303a2064656372656173656420616c6c6f77616e63652062656c6f7760, 0x4482015264207a65726f60d81b60648201526084016104fd565b6104528286, 0x868403610940565b60003361042d818585610adf565b8342111561070e5760, 0x405162461bcd60e51b815260206004820152601d60248201527f4552433230, 0x5065726d69743a206578706972656420646561646c696e6500000060448201, 0x526064016104fd565b60007f6e71edae12b1b97f4d1f60370fef10105fa2fa, 0xae0126114a169c64845d6126c988888861073d8c610f81565b604080516020, 0x8101969096526001600160a01b039485169086015292909116606084015260, 0x8083015260a082015260c0810186905260e001604051602081830303815290, 0x604052805190602001209050600061079882610fa9565b905060006107a882, 0x878787610fd6565b9050896001600160a01b0316816001600160a01b031614, 0x61080b5760405162461bcd60e51b815260206004820152601e60248201527f, 0x45524332305065726d69743a20696e76616c6964207369676e617475726500, 0x0060448201526064016104fd565b6108168a8a8a610940565b505050505050, 0x50505050565b6001600160a01b039182166000908152600160209081526040, 0x80832093909416825291909152205490565b60006020835110156108695761, 0x086283610ffe565b9050610433565b8161087484826115bf565b5060ff9050, 0x610433565b90565b6001600160a01b0382166108d75760405162461bcd60e5, 0x1b815260206004820152601f60248201527f45524332303a206d696e742074, 0x6f20746865207a65726f20616464726573730060448201526064016104fd56, 0x5b80600260008282546108e9919061153a565b90915550506001600160a01b, 0x038216600081815260208181526040808320805486019055518481527fddf2, 0x52ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef91, 0x0160405180910390a35050565b6001600160a01b0383166109a25760405162, 0x461bcd60e51b8152602060048201526024808201527f45524332303a206170, 0x70726f76652066726f6d20746865207a65726f206164646044820152637265, 0x737360e01b60648201526084016104fd565b6001600160a01b038216610a03, 0x5760405162461bcd60e51b815260206004820152602260248201527f455243, 0x32303a20617070726f766520746f20746865207a65726f2061646472656044, 0x82015261737360f01b60648201526084016104fd565b6001600160a01b0383, 0x81166000818152600160209081526040808320948716808452948252918290, 0x2085905590518481527f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7, 0xb2291e5b200ac8c7c3b92591015b60405180910390a3505050565b6000610a, 0x718484610822565b90506000198114610ad95781811015610acc5760405162, 0x461bcd60e51b815260206004820152601d60248201527f45524332303a2069, 0x6e73756666696369656e7420616c6c6f77616e636500000060448201526064, 0x016104fd565b610ad98484848403610940565b50505050565b6001600160a0, 0x1b038316610b435760405162461bcd60e51b81526020600482015260256024, 0x8201527f45524332303a207472616e736665722066726f6d20746865207a65, 0x726f206164604482015264647265737360d81b60648201526084016104fd56, 0x5b6001600160a01b038216610ba55760405162461bcd60e51b815260206004, 0x820152602360248201527f45524332303a207472616e7366657220746f2074, 0x6865207a65726f206164647260448201526265737360e81b60648201526084, 0x016104fd565b6001600160a01b038316600090815260208190526040902054, 0x81811015610c1d5760405162461bcd60e51b81526020600482015260266024, 0x8201527f45524332303a207472616e7366657220616d6f756e742065786365, 0x6564732062604482015265616c616e636560d01b60648201526084016104fd, 0x565b6001600160a01b03848116600081815260208181526040808320878703, 0x905593871680835291849020805487019055925185815290927fddf252ad1b, 0xe2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef91016040, 0x5180910390a3610ad9565b6001600160a01b038216610ce35760405162461b, 0xcd60e51b815260206004820152602160248201527f45524332303a20627572, 0x6e2066726f6d20746865207a65726f206164647265736044820152607360f8, 0x1b60648201526084016104fd565b6001600160a01b03821660009081526020, 0x819052604090205481811015610d575760405162461bcd60e51b8152602060, 0x04820152602260248201527f45524332303a206275726e20616d6f756e7420, 0x657863656564732062616c616e604482015261636560f01b60648201526084, 0x016104fd565b6001600160a01b038316600081815260208181526040808320, 0x8686039055600280548790039055518581529192917fddf252ad1be2c89b69, 0xc2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9101610a58565b50, 0x5050565b6000306001600160a01b037f000000000000000000000000530000, 0x000000000000000000000000000000000416148015610e0b57507f00000000, 0x0000000000000000000000000000000000000000000000000008275046145b, 0x15610e3557507fe5b117a3cd7ae7ed3508e6e6c5a0794536b2a8dee12533c4, 0xd7524eae9c85438f90565b610558604080517f8b73c3c69bb8fe3d512ecc4c, 0xf759cc79239f7b179b0ffacaa9a75d522b39400f60208201527f00cd3d46df, 0x44f2cbb950cf84eb2e92aa2ddd23195b1a009173ea59a063357ed391810191, 0x9091527fc89efdaa54c0f20c7adf612882df0950f5a951637e0307cdcb4c67, 0x2f298b8bc660608201524660808201523060a082015260009060c001604051, 0x60208183030381529060405280519060200120905090565b606060ff831461, 0x0ef0576108628361103c565b818054610efc90611506565b80601f01602080, 0x91040260200160405190810160405280929190818152602001828054610f28, 0x90611506565b8015610f755780601f10610f4a576101008083540402835291, 0x60200191610f75565b820191906000526020600020905b8154815290600101, 0x90602001808311610f5857829003601f168201915b50505050509050610433, 0x565b6001600160a01b03811660009081526007602052604090208054600181, 0x018255905b50919050565b6000610433610fb6610db2565b83604051611901, 0x60f01b8152600281019290925260228201526042902090565b600080600061, 0x0fe78787878761107b565b91509150610ff48161113f565b50959450505050, 0x50565b600080829050601f81511115611029578260405163305a27a960e01b, 0x81526004016104fd91906112fa565b80516110348261167f565b1793925050, 0x50565b606060006110498361128c565b604080516020808252818301909252, 0x91925060009190602082018180368337505050918252506020810192909252, 0x5090565b6000807f7fffffffffffffffffffffffffffffff5d576e7357a450, 0x1ddfe92f46681b20a08311156110b25750600090506003611136565b604080, 0x5160008082526020820180845289905260ff88169282019290925260608101, 0x8690526080810185905260019060a001602060405160208103908084039085, 0x5afa158015611106573d6000803e3d6000fd5b5050604051601f1901519150, 0x506001600160a01b03811661112f57600060019250925050611136565b9150, 0x600090505b94509492505050565b6000816004811115611153576111536116, 0xa3565b0361115b5750565b600181600481111561116f5761116f6116a3565b, 0x036111bc5760405162461bcd60e51b81526020600482015260186024820152, 0x7f45434453413a20696e76616c6964207369676e6174757265000000000000, 0x000060448201526064016104fd565b60028160048111156111d0576111d061, 0x16a3565b0361121d5760405162461bcd60e51b815260206004820152601f60, 0x248201527f45434453413a20696e76616c6964207369676e6174757265206c, 0x656e6774680060448201526064016104fd565b600381600481111561123157, 0x6112316116a3565b036112895760405162461bcd60e51b8152602060048201, 0x52602260248201527f45434453413a20696e76616c6964207369676e617475, 0x7265202773272076616c604482015261756560f01b60648201526084016104, 0xfd565b50565b600060ff8216601f81111561043357604051632cd44ac360e2, 0x1b815260040160405180910390fd5b6000815180845260005b818110156112, 0xda576020818501810151868301820152016112be565b506000602082860101, 0x526020601f19601f83011685010191505092915050565b6020815260006113, 0x0d60208301846112b4565b9392505050565b80356001600160a01b03811681, 0x1461132b57600080fd5b919050565b60008060408385031215611343576000, 0x80fd5b61134c83611314565b946020939093013593505050565b6000806000, 0x6060848603121561136f57600080fd5b61137884611314565b925061138660, 0x208501611314565b9150604084013590509250925092565b60006020828403, 0x12156113a857600080fd5b5035919050565b6000602082840312156113c157, 0x600080fd5b61130d82611314565b60ff60f81b881681526000602060e08184, 0x01526113ea60e084018a6112b4565b83810360408501526113fc818a6112b4, 0x565b606085018990526001600160a01b038816608086015260a08501879052, 0x84810360c0860152855180825283870192509083019060005b818110156114, 0x4e57835183529284019291840191600101611432565b50909c9b5050505050, 0x50505050505050565b600080600080600080600060e0888a03121561147b57, 0x600080fd5b61148488611314565b965061149260208901611314565b955060, 0x40880135945060608801359350608088013560ff811681146114b657600080, 0xfd5b9699959850939692959460a0840135945060c09093013592915050565b, 0x600080604083850312156114e657600080fd5b6114ef83611314565b915061, 0x14fd60208401611314565b90509250929050565b600181811c908216806115, 0x1a57607f821691505b602082108103610fa357634e487b7160e01b60005260, 0x2260045260246000fd5b8082018082111561043357634e487b7160e01b6000, 0x52601160045260246000fd5b634e487b7160e01b6000526041600452602460, 0x00fd5b601f821115610dad57600081815260208120601f850160051c810160, 0x208610156115985750805b601f850160051c820191505b818110156115b757, 0x8281556001016115a4565b505050505050565b815167ffffffffffffffff81, 0x11156115d9576115d961155b565b6115ed816115e78454611506565b846115, 0x71565b602080601f831160018114611622576000841561160a575085830151, 0x5b600019600386901b1c1916600185901b1785556115b7565b600085815260, 0x208120601f198616915b828110156116515788860151825594840194600190, 0x9101908401611632565b508582101561166f5787850151600019600388901b, 0x60f8161c191681555b5050505050600190811b01905550565b805160208083, 0x01519190811015610fa35760001960209190910360031b1b16919050565b63, 0x4e487b7160e01b600052602160045260246000fdfea2646970667358221220, 0x7f39e33e122e8e2b0381aa6abea46046f56b05ced66c556a06bb1b80be7f55, 0x00000000000000000000000000000000000000cf64736f6c63430008100033
    ];
    //code.slice(2).match(/.{1,62}/g).map((x)=>ethers.zeroPadBytes("0x"+x, 31)).reduce((a, x, i)=>{
    //     a[i%3] += x.slice(2)
    //     return a
    // },Array(3).fill("0x"))
    let codeSplit3 = [
        0x6080604052600436106101025760003560e01c806370a08231116100955780031c57600080fd5b806370a08231146102215780637ecebe0014610257578044e515146101ec578063395093511461020157600080fd5b806306fdde031434801561012257600080fd5b5061012b61038d565b604051610138919061121561017d57600080fd5b506002545b604051908152602001610138565b34803480156101dc57600080fd5b5060405160128152602001610138565b3480155061018261023c3660046113af565b6001600160a01b031660009081526020565b60405161013897969594939291906113ca565b3480156102ab57600080366004611330565b6106b0565b61010f61033c565b3480156103085760008081565b806001600160a01b03167fe1fffcc4923d04b559f4d29a8bfc6cda04208091040260200160405190810160405280929190818152602001828054610101906020018083116103f857829003601f168201915b5050505050905090565b336104688183610c83565b6000816001600160a01b0316836040516000505b50509050806105065760405162461bcd60e51b8152602060048201526015f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b658460407a919061153a565b610940565b6001600160a01b0381166000908152600760565b6105fc7f3100000000000000000000000000000000000000000000000061039c90611506565b600033816106438286610822565b90508381101561064482015264207a65726f60d81b60648201526084016104fd565b61045282865065726d69743a206578706972656420646561646c696e65000000604482018101969096526001600160a01b039485169086015292909116606084015260878787610fd6565b9050896001600160a01b0316816001600160a01b0316140060448201526064016104fd565b6108168a8a8a610940565b505050505050086283610ffe565b9050610433565b8161087484826115bf565b5060ff90506f20746865207a65726f20616464726573730060448201526064016104fd5652ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9170726f76652066726f6d20746865207a65726f20616464604482015263726532303a20617070726f766520746f20746865207a65726f20616464726560442085905590518481527f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7461bcd60e51b815260206004820152601d60248201527f45524332303a20691b038316610b435760405162461bcd60e51b815260206004820152602560245b6001600160a01b038216610ba55760405162461bcd60e51b815260206004016104fd565b6001600160a01b0383166000908152602081905260409020546564732062604482015265616c616e636560d01b60648201526084016104fde2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef910160406e2066726f6d20746865207a65726f206164647265736044820152607360f804820152602260248201527f45524332303a206275726e20616d6f756e74208686039055600280548790039055518581529192917fddf252ad1be2c89b69000000000000000000000000000000000416148015610e0b57507f00000000d7524eae9c85438f90565b610558604080517f8b73c3c69bb8fe3d512ecc4c9091527fc89efdaa54c0f20c7adf612882df0950f5a951637e0307cdcb4c670ef0576108628361103c565b818054610efc90611506565b80601f0160208060200191610f75565b820191906000526020600020905b8154815290600101018255905b50919050565b6000610433610fb6610db2565b8360405161190150565b600080829050601f81511115611029578260405163305a27a960e01b919250600091906020820181803683375050509182525060208101929092525160008082526020820180845289905260ff88169282019290925260608101506001600160a01b03811661112f57600060019250925050611136565b9150036111bc5760405162461bcd60e51b8152602060048201526018602482015216a3565b0361121d5760405162461bcd60e51b815260206004820152601f606112316116a3565b036112895760405162461bcd60e51b8152602060048201fd565b50565b600060ff8216601f81111561043357604051632cd44ac360e2526020601f19601f83011685010191505092915050565b602081526000611380fd5b61134c83611314565b946020939093013593505050565b600080600012156113a857600080fd5b5035919050565b6000602082840312156113c157565b606085018990526001600160a01b038816608086015260a0850187905250505050505050565b600080600080600080600060e0888a03121561147b57fd5b9699959850939692959460a0840135945060c09093013592915050565b1a57607f821691505b602082108103610fa357634e487b7160e01b6000526000fd5b601f821115610dad57600081815260208120601f850160051c81016011156115d9576115d961155b565b6115ed816115e78454611506565b846115208120601f198616915b82811015611651578886015182559484019460019001519190811015610fa35760001960209190910360031b1b16919050565b63cf64736f6c6343000810003300000000000000000000000000000000000000,
        0x63a457c2d711610064578063a457c2d7146102b4578063a9059cbb146102d46384b0196e1461027757806395d89b411461029f57600080fd5b80632e1a7d610116578063095ea7b31461014157806318160ddd1461017157806323b872fa565b60405180910390f35b34801561014d57600080fd5b5061016161015c1561019c57600080fd5b506101616101ab36600461135a565b610439565b346101f857600080fd5b5061018261054e565b34801561020d57600080fd5b50819052604090205490565b34801561026357600080fd5b5061018261027236fd5b5061012b610626565b3480156102c057600080fd5b506101616102cf36fd5b5061010f610317366004611460565b6106be565b348015610328576000eb5b0d3c460751c2402c5c5cc9109c3460405161038291815260200190565b03c890611506565b80156104155780601f106103ea57610100808354040283565b60003361042d818585610940565b60019150505b92915050565b6000336040518083038185875af1925050503d80600081146104b557604051915060136024820152721dda5d1a191c985dc81155120819985a5b1959606a1b60445161054191815260200190565b60405180910390a2505050565b600061055820526040812054610433565b6000606080828080836105d17f577261707065000000000000016006610edd565b6040805160008082526020820190925260a35760405162461bcd60e51b815260206004820152602560248201527f4552868403610940565b60003361042d818585610adf565b8342111561070e5760526064016104fd565b60007f6e71edae12b1b97f4d1f60370fef10105fa2fa8083015260a082015260c0810186905260e00160405160208183030381529061080b5760405162461bcd60e51b815260206004820152601e60248201527f50505050565b6001600160a01b039182166000908152600160209081526040610433565b90565b6001600160a01b0382166108d75760405162461bcd60e55b80600260008282546108e9919061153a565b90915550506001600160a01b0160405180910390a35050565b6001600160a01b0383166109a25760405162737360e01b60648201526084016104fd565b6001600160a01b038216610a0382015261737360f01b60648201526084016104fd565b6001600160a01b0383b2291e5b200ac8c7c3b92591015b60405180910390a3505050565b6000610a6e73756666696369656e7420616c6c6f77616e6365000000604482015260648201527f45524332303a207472616e736665722066726f6d20746865207a65820152602360248201527f45524332303a207472616e7366657220746f207481811015610c1d5760405162461bcd60e51b81526020600482015260266024565b6001600160a01b038481166000818152602081815260408083208787035180910390a3610ad9565b6001600160a01b038216610ce35760405162461b1b60648201526084016104fd565b6001600160a01b03821660009081526020657863656564732062616c616e604482015261636560f01b60648201526084c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9101610a58565b500000000000000000000000000000000000000000000000000008275046145bf759cc79239f7b179b0ffacaa9a75d522b39400f60208201527f00cd3d46df2f298b8bc660608201524660808201523060a082015260009060c00160405191040260200160405190810160405280929190818152602001828054610f2890602001808311610f5857829003601f168201915b5050505050905061043360f01b8152600281019290925260228201526042902090565b60008060006181526004016104fd91906112fa565b80516110348261167f565b17939250505090565b6000807f7fffffffffffffffffffffffffffffff5d576e7357a4508690526080810185905260019060a001602060405160208103908084039085600090505b94509492505050565b60008160048111156111535761115361167f45434453413a20696e76616c6964207369676e6174757265000000000000248201527f45434453413a20696e76616c6964207369676e6174757265206c52602260248201527f45434453413a20696e76616c6964207369676e6174751b815260040160405180910390fd5b6000815180845260005b8181101561120d60208301846112b4565b9392505050565b80356001600160a01b038116816060848603121561136f57600080fd5b61137884611314565b925061138660600080fd5b61130d82611314565b60ff60f81b881681526000602060e0818484810360c0860152855180825283870192509083019060005b818110156114600080fd5b61148488611314565b965061149260208901611314565b955060600080604083850312156114e657600080fd5b6114ef83611314565b9150612260045260246000fd5b8082018082111561043357634e487b7160e01b6000208610156115985750805b601f850160051c820191505b818110156115b75771565b602080601f831160018114611622576000841561160a5750858301519101908401611632565b508582101561166f5787850151600019600388901b4e487b7160e01b600052602160045260246000fdfea2646970667358221220,
        0x578063d0e30db0146102f4578063d505accf146102fc578063dd62ed3e14614d116100d15780632e1a7d4d146101b0578063313ce567146101d057806336dd1461019057600080fd5b366101115761010f61033c565b005b600080fd5b366004611330565b61041f565b6040519015158152602001610138565b348080156101bc57600080fd5b5061010f6101cb366004611396565b61045d565b61016161021c366004611330565b61055d565b34801561022d57600080fd5b60046113af565b61057f565b34801561028357600080fd5b5061028c61059d6004611330565b610635565b3480156102e057600080fd5b506101616102ef80fd5b506101826103373660046114d3565b610822565b336103478134610860405180910390a250565b60606003805461039c90611506565b80601f0160529160200191610415565b820191906000526020600020905b815481529060610447858285610a65565b610452858585610adf565b5060019493505050501f19603f3d011682016040523d82523d6000602084013e6104ba565b6060918201526064015b60405180910390fd5b816001600160a01b03167f7fcf532c610db2565b905090565b60003361042d8185856105708383610822565b6105642045746865720000000000000000000000000000000000000d6005610edd0f60f81b9b939a50919850469750309650945092509050565b6060600480544332303a2064656372656173656420616c6c6f77616e63652062656c6f7760405162461bcd60e51b815260206004820152601d60248201527f4552433230ae0126114a169c64845d6126c988888861073d8c610f81565b604080516020604052805190602001209050600061079882610fa9565b905060006107a88245524332305065726d69743a20696e76616c6964207369676e61747572650080832093909416825291909152205490565b600060208351101561086957611b815260206004820152601f60248201527f45524332303a206d696e742074038216600081815260208181526040808320805486019055518481527fddf2461bcd60e51b8152602060048201526024808201527f45524332303a2061705760405162461bcd60e51b815260206004820152602260248201527f45524381166000818152600160209081526040808320948716808452948252918290718484610822565b90506000198114610ad95781811015610acc5760405162016104fd565b610ad98484848403610940565b50505050565b6001600160a0726f206164604482015264647265737360d81b60648201526084016104fd566865207a65726f206164647260448201526265737360e81b606482015260848201527f45524332303a207472616e7366657220616d6f756e742065786365905593871680835291849020805487019055925185815290927fddf252ad1bcd60e51b815260206004820152602160248201527f45524332303a20627572819052604090205481811015610d575760405162461bcd60e51b8152602060016104fd565b6001600160a01b0383166000818152602081815260408083205050565b6000306001600160a01b037f00000000000000000000000053000015610e3557507fe5b117a3cd7ae7ed3508e6e6c5a0794536b2a8dee12533c444f2cbb950cf84eb2e92aa2ddd23195b1a009173ea59a063357ed39181019160208183030381529060405280519060200120905090565b606060ff83146190611506565b8015610f755780601f10610f4a576101008083540402835291565b6001600160a01b038116600090815260076020526040902080546001810fe78787878761107b565b91509150610ff48161113f565b5095945050505050565b606060006110498361128c565b6040805160208082528183019092521ddfe92f46681b20a08311156110b25750600090506003611136565b6040805afa158015611106573d6000803e3d6000fd5b5050604051601f1901519150a3565b0361115b5750565b600181600481111561116f5761116f6116a3565b000060448201526064016104fd565b60028160048111156111d0576111d061656e6774680060448201526064016104fd565b6003816004811115611231577265202773272076616c604482015261756560f01b60648201526084016104da576020818501810151868301820152016112be565b5060006020828601011461132b57600080fd5b919050565b60008060408385031215611343576000208501611314565b9150604084013590509250925092565b6000602082840301526113ea60e084018a6112b4565b83810360408501526113fc818a6112b44e57835183529284019291840191600101611432565b50909c9b505050505040880135945060608801359350608088013560ff811681146114b65760008014fd60208401611314565b90509250929050565b600181811c90821680611552601160045260246000fd5b634e487b7160e01b60005260416004526024608281556001016115a4565b505050505050565b815167ffffffffffffffff815b600019600386901b1c1916600185901b1785556115b7565b60008581526060f8161c191681555b5050505050600190811b01905550565b8051602080837f39e33e122e8e2b0381aa6abea46046f56b05ced66c556a06bb1b80be7f55
    ];

    //code.slice(2).match(/.{1,62}/g).map((x)=>ethers.zeroPadBytes("0x"+x, 31)).reduce((a, x, i)=>{
    //     a[i%3] += x.slice(2)
    //     return a
    // },[ethers.zeroPadBytes("0xf4548036f3ec50c2fbb56d9ad038001932b5db267d030024e278c1c6843600", 31), ethers.zeroPadBytes("0x",31),etahers.zeroPadBytes("0x",31)])
    let codeSplit3WithCap = [
        0xf4548036f3ec50c2fbb56d9ad038001932b5db267d030024e278c1c68436006080604052600436106101025760003560e01c806370a08231116100955780031c57600080fd5b806370a08231146102215780637ecebe0014610257578044e515146101ec578063395093511461020157600080fd5b806306fdde031434801561012257600080fd5b5061012b61038d565b604051610138919061121561017d57600080fd5b506002545b604051908152602001610138565b34803480156101dc57600080fd5b5060405160128152602001610138565b3480155061018261023c3660046113af565b6001600160a01b031660009081526020565b60405161013897969594939291906113ca565b3480156102ab57600080366004611330565b6106b0565b61010f61033c565b3480156103085760008081565b806001600160a01b03167fe1fffcc4923d04b559f4d29a8bfc6cda04208091040260200160405190810160405280929190818152602001828054610101906020018083116103f857829003601f168201915b5050505050905090565b336104688183610c83565b6000816001600160a01b0316836040516000505b50509050806105065760405162461bcd60e51b8152602060048201526015f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b658460407a919061153a565b610940565b6001600160a01b0381166000908152600760565b6105fc7f3100000000000000000000000000000000000000000000000061039c90611506565b600033816106438286610822565b90508381101561064482015264207a65726f60d81b60648201526084016104fd565b61045282865065726d69743a206578706972656420646561646c696e65000000604482018101969096526001600160a01b039485169086015292909116606084015260878787610fd6565b9050896001600160a01b0316816001600160a01b0316140060448201526064016104fd565b6108168a8a8a610940565b505050505050086283610ffe565b9050610433565b8161087484826115bf565b5060ff90506f20746865207a65726f20616464726573730060448201526064016104fd5652ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9170726f76652066726f6d20746865207a65726f20616464604482015263726532303a20617070726f766520746f20746865207a65726f20616464726560442085905590518481527f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7461bcd60e51b815260206004820152601d60248201527f45524332303a20691b038316610b435760405162461bcd60e51b815260206004820152602560245b6001600160a01b038216610ba55760405162461bcd60e51b815260206004016104fd565b6001600160a01b0383166000908152602081905260409020546564732062604482015265616c616e636560d01b60648201526084016104fde2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef910160406e2066726f6d20746865207a65726f206164647265736044820152607360f804820152602260248201527f45524332303a206275726e20616d6f756e74208686039055600280548790039055518581529192917fddf252ad1be2c89b69000000000000000000000000000000000416148015610e0b57507f00000000d7524eae9c85438f90565b610558604080517f8b73c3c69bb8fe3d512ecc4c9091527fc89efdaa54c0f20c7adf612882df0950f5a951637e0307cdcb4c670ef0576108628361103c565b818054610efc90611506565b80601f0160208060200191610f75565b820191906000526020600020905b8154815290600101018255905b50919050565b6000610433610fb6610db2565b8360405161190150565b600080829050601f81511115611029578260405163305a27a960e01b919250600091906020820181803683375050509182525060208101929092525160008082526020820180845289905260ff88169282019290925260608101506001600160a01b03811661112f57600060019250925050611136565b9150036111bc5760405162461bcd60e51b8152602060048201526018602482015216a3565b0361121d5760405162461bcd60e51b815260206004820152601f606112316116a3565b036112895760405162461bcd60e51b8152602060048201fd565b50565b600060ff8216601f81111561043357604051632cd44ac360e2526020601f19601f83011685010191505092915050565b602081526000611380fd5b61134c83611314565b946020939093013593505050565b600080600012156113a857600080fd5b5035919050565b6000602082840312156113c157565b606085018990526001600160a01b038816608086015260a0850187905250505050505050565b600080600080600080600060e0888a03121561147b57fd5b9699959850939692959460a0840135945060c09093013592915050565b1a57607f821691505b602082108103610fa357634e487b7160e01b6000526000fd5b601f821115610dad57600081815260208120601f850160051c81016011156115d9576115d961155b565b6115ed816115e78454611506565b846115208120601f198616915b82811015611651578886015182559484019460019001519190811015610fa35760001960209190910360031b1b16919050565b63cf64736f6c6343000810003300000000000000000000000000000000000000,
        0x0000000000000000000000000000000000000000000000000000000000000063a457c2d711610064578063a457c2d7146102b4578063a9059cbb146102d46384b0196e1461027757806395d89b411461029f57600080fd5b80632e1a7d610116578063095ea7b31461014157806318160ddd1461017157806323b872fa565b60405180910390f35b34801561014d57600080fd5b5061016161015c1561019c57600080fd5b506101616101ab36600461135a565b610439565b346101f857600080fd5b5061018261054e565b34801561020d57600080fd5b50819052604090205490565b34801561026357600080fd5b5061018261027236fd5b5061012b610626565b3480156102c057600080fd5b506101616102cf36fd5b5061010f610317366004611460565b6106be565b348015610328576000eb5b0d3c460751c2402c5c5cc9109c3460405161038291815260200190565b03c890611506565b80156104155780601f106103ea57610100808354040283565b60003361042d818585610940565b60019150505b92915050565b6000336040518083038185875af1925050503d80600081146104b557604051915060136024820152721dda5d1a191c985dc81155120819985a5b1959606a1b60445161054191815260200190565b60405180910390a2505050565b600061055820526040812054610433565b6000606080828080836105d17f577261707065000000000000016006610edd565b6040805160008082526020820190925260a35760405162461bcd60e51b815260206004820152602560248201527f4552868403610940565b60003361042d818585610adf565b8342111561070e5760526064016104fd565b60007f6e71edae12b1b97f4d1f60370fef10105fa2fa8083015260a082015260c0810186905260e00160405160208183030381529061080b5760405162461bcd60e51b815260206004820152601e60248201527f50505050565b6001600160a01b039182166000908152600160209081526040610433565b90565b6001600160a01b0382166108d75760405162461bcd60e55b80600260008282546108e9919061153a565b90915550506001600160a01b0160405180910390a35050565b6001600160a01b0383166109a25760405162737360e01b60648201526084016104fd565b6001600160a01b038216610a0382015261737360f01b60648201526084016104fd565b6001600160a01b0383b2291e5b200ac8c7c3b92591015b60405180910390a3505050565b6000610a6e73756666696369656e7420616c6c6f77616e6365000000604482015260648201527f45524332303a207472616e736665722066726f6d20746865207a65820152602360248201527f45524332303a207472616e7366657220746f207481811015610c1d5760405162461bcd60e51b81526020600482015260266024565b6001600160a01b038481166000818152602081815260408083208787035180910390a3610ad9565b6001600160a01b038216610ce35760405162461b1b60648201526084016104fd565b6001600160a01b03821660009081526020657863656564732062616c616e604482015261636560f01b60648201526084c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9101610a58565b500000000000000000000000000000000000000000000000000008275046145bf759cc79239f7b179b0ffacaa9a75d522b39400f60208201527f00cd3d46df2f298b8bc660608201524660808201523060a082015260009060c00160405191040260200160405190810160405280929190818152602001828054610f2890602001808311610f5857829003601f168201915b5050505050905061043360f01b8152600281019290925260228201526042902090565b60008060006181526004016104fd91906112fa565b80516110348261167f565b17939250505090565b6000807f7fffffffffffffffffffffffffffffff5d576e7357a4508690526080810185905260019060a001602060405160208103908084039085600090505b94509492505050565b60008160048111156111535761115361167f45434453413a20696e76616c6964207369676e6174757265000000000000248201527f45434453413a20696e76616c6964207369676e6174757265206c52602260248201527f45434453413a20696e76616c6964207369676e6174751b815260040160405180910390fd5b6000815180845260005b8181101561120d60208301846112b4565b9392505050565b80356001600160a01b038116816060848603121561136f57600080fd5b61137884611314565b925061138660600080fd5b61130d82611314565b60ff60f81b881681526000602060e0818484810360c0860152855180825283870192509083019060005b818110156114600080fd5b61148488611314565b965061149260208901611314565b955060600080604083850312156114e657600080fd5b6114ef83611314565b9150612260045260246000fd5b8082018082111561043357634e487b7160e01b6000208610156115985750805b601f850160051c820191505b818110156115b75771565b602080601f831160018114611622576000841561160a5750858301519101908401611632565b508582101561166f5787850151600019600388901b4e487b7160e01b600052602160045260246000fdfea2646970667358221220,
        0x00000000000000000000000000000000000000000000000000000000000000578063d0e30db0146102f4578063d505accf146102fc578063dd62ed3e14614d116100d15780632e1a7d4d146101b0578063313ce567146101d057806336dd1461019057600080fd5b366101115761010f61033c565b005b600080fd5b366004611330565b61041f565b6040519015158152602001610138565b348080156101bc57600080fd5b5061010f6101cb366004611396565b61045d565b61016161021c366004611330565b61055d565b34801561022d57600080fd5b60046113af565b61057f565b34801561028357600080fd5b5061028c61059d6004611330565b610635565b3480156102e057600080fd5b506101616102ef80fd5b506101826103373660046114d3565b610822565b336103478134610860405180910390a250565b60606003805461039c90611506565b80601f0160529160200191610415565b820191906000526020600020905b815481529060610447858285610a65565b610452858585610adf565b5060019493505050501f19603f3d011682016040523d82523d6000602084013e6104ba565b6060918201526064015b60405180910390fd5b816001600160a01b03167f7fcf532c610db2565b905090565b60003361042d8185856105708383610822565b6105642045746865720000000000000000000000000000000000000d6005610edd0f60f81b9b939a50919850469750309650945092509050565b6060600480544332303a2064656372656173656420616c6c6f77616e63652062656c6f7760405162461bcd60e51b815260206004820152601d60248201527f4552433230ae0126114a169c64845d6126c988888861073d8c610f81565b604080516020604052805190602001209050600061079882610fa9565b905060006107a88245524332305065726d69743a20696e76616c6964207369676e61747572650080832093909416825291909152205490565b600060208351101561086957611b815260206004820152601f60248201527f45524332303a206d696e742074038216600081815260208181526040808320805486019055518481527fddf2461bcd60e51b8152602060048201526024808201527f45524332303a2061705760405162461bcd60e51b815260206004820152602260248201527f45524381166000818152600160209081526040808320948716808452948252918290718484610822565b90506000198114610ad95781811015610acc5760405162016104fd565b610ad98484848403610940565b50505050565b6001600160a0726f206164604482015264647265737360d81b60648201526084016104fd566865207a65726f206164647260448201526265737360e81b606482015260848201527f45524332303a207472616e7366657220616d6f756e742065786365905593871680835291849020805487019055925185815290927fddf252ad1bcd60e51b815260206004820152602160248201527f45524332303a20627572819052604090205481811015610d575760405162461bcd60e51b8152602060016104fd565b6001600160a01b0383166000818152602081815260408083205050565b6000306001600160a01b037f00000000000000000000000053000015610e3557507fe5b117a3cd7ae7ed3508e6e6c5a0794536b2a8dee12533c444f2cbb950cf84eb2e92aa2ddd23195b1a009173ea59a063357ed39181019160208183030381529060405280519060200120905090565b606060ff83146190611506565b8015610f755780601f10610f4a576101008083540402835291565b6001600160a01b038116600090815260076020526040902080546001810fe78787878761107b565b91509150610ff48161113f565b5095945050505050565b606060006110498361128c565b6040805160208082528183019092521ddfe92f46681b20a08311156110b25750600090506003611136565b6040805afa158015611106573d6000803e3d6000fd5b5050604051601f1901519150a3565b0361115b5750565b600181600481111561116f5761116f6116a3565b000060448201526064016104fd565b60028160048111156111d0576111d061656e6774680060448201526064016104fd565b6003816004811115611231577265202773272076616c604482015261756560f01b60648201526084016104da576020818501810151868301820152016112be565b5060006020828601011461132b57600080fd5b919050565b60008060408385031215611343576000208501611314565b9150604084013590509250925092565b6000602082840301526113ea60e084018a6112b4565b83810360408501526113fc818a6112b44e57835183529284019291840191600101611432565b50909c9b505050505040880135945060608801359350608088013560ff811681146114b65760008014fd60208401611314565b90509250929050565b600181811c90821680611552601160045260246000fd5b634e487b7160e01b60005260416004526024608281556001016115a4565b505050505050565b815167ffffffffffffffff815b600019600386901b1c1916600185901b1785556115b7565b60008581526060f8161c191681555b5050505050600190811b01905550565b8051602080837f39e33e122e8e2b0381aa6abea46046f56b05ced66c556a06bb1b80be7f55
    ];
    // let codeHash1 = poseidon::bn254::hash_3(codeSplit3);
    // let codeHash2 = poseidon2::Poseidon2::hash(codeSplit3WithCap, 19);
    

    //println(codeHash2);
    // assert(codeHash1 == expectedCodeHash);
    // let expectedCodeHash = 0x136a7980da529d9e8d3a71433fc9dc5aa8c01e3a4eb60cb3a4f9cf9ca5c8e0be;
    // let codeHash1 = main(codeBytes);
    // println("codeHash");
    // println(codeHash1);
    let preimage12 = [1,2];
    
    // HashFixed([]*big.Int{b1, b2})
    let hashFixed2 = poseidon::bn254::hash_2(preimage12);
    println(hashFixed2);
    assert(hashFixed2 == 0x115cc0f5e7d690413df64c6b9662e9cf2a3617f2743245519e19607a4417189a); //matches HashFixed([]
    //5390df727dcce2ddb8faa3acb4798ad4e95b74de05e5cc7e40496658913ae85
    println("hash with domain");
    
    //HashFixedWithDomain([]*big.Int{b1, b2}, big.NewInt(256))
    let mut hashFixedDomain = hash_2WithDomain(preimage12, 256);
    println(hashFixedDomain);
    assert(0x05390df727dcce2ddb8faa3acb4798ad4e95b74de05e5cc7e40496658913ae85 == hashFixedDomain);

}

